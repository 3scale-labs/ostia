apiVersion: v1
kind: Template
metadata:
  name: api-endpoint-template
  annotations:
    description: "Simple API & Endpoint"
objects:
- apiVersion: "ostia.3scale.net/v1alpha1"
  kind: "API"
  metadata:
    name: "endpoints"
  spec:
    expose: true
    hostname: ${HOSTNAME}
    endpoints:
    - name: fixed
      host: ${UPSTREAM_HOST}
      path: /
    rate_limits:
    - type: FixedWindow
      name: fixed
      limit: 10/m
parameters:
- description: The route hostname to expose this endpoint
  required: true
  name: HOSTNAME
- description: The upstream service to proxy to
  name: UPSTREAM_HOST
  value: http://echo-api
  required: true


